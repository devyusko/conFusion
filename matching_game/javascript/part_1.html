<!doctype html>
<html>
<head>
    <title>JavaScript Color Guessing Game</title>
</head>
<body onload="do_game()">
<script>
    var colors = ['red', 'blue', 'pink', 'orange', 'cyan', 'magenta', 'maroon', 'green', 'yellow'];
    var guesses = 0;
    var finished = false;
    var guess_input, target_color;

    function do_game() {
        var target = Math.floor(Math.random() * (colors.length - 1));
        target_color = colors[target];
        var list = '';

        alert("target color: " + target_color);

        colors.forEach(function color_list(value) {
            list += value + ' ';
        });

        while(!finished) {
            guess_input = prompt("I am thinking of one of these colors: \n\n" +
                    list + "\n\n" +
                    "What color am I thinking of: ");

            guesses += 1;
            finished = check_guess();
        }

    }

    function check_guess() {
        if( colors.indexOf(guess_input) === -1 ) {
            alert("Sorry, I don't recognize your color \n\n Please try again");
            return false;
        }

        if ( guess_input > target_color ) {
            alert("Sorry, your guess is not correct!\n\n" +
                    " Hint: your color is alphabetically higher than mine\n\n" +
            "please try again.");
            return false;
        }

        if ( guess_input < target_color ) {
            alert("Sorry, your guess is not correct!\n\n" +
                    " Hint: your color is alphabetically lower than mine\n\n" +
                    "please try again.");
            return false;
        }

        document.body.style.backgroundColor=target_color;
        alert("Contratulations! You have guessed the color!\n\n" +
        "It took you " + guesses + " guesses to finish the game!\n\n" +
        "You can see the colour in the background.");
        return true;
    }
</script>
</body>
</html>
